/******************************************************************
 * This is the main file for the Software Sessions
 *
 */

#include <stdint.h>
#include <inttypes.h>
#include <math.h>

#include "common.h"

// Uncomment for Session SW1
// extern void warmup();

// Uncomment for Session SW2 onwards
//#include "mp_arith.h"
//#include "montgomery.h"
//#include "asm_func.h"


int main()
{
    init_platform();
    init_performance_counters(1);

    // Hello World template
    //----------------------
    xil_printf("Begin\n\r");
    uint32_t a[32]   = { 0x8e4bdc5f, 0xee18f9b7, 0xa315d2f0, 0xf2e95251, 0x536f6053, 0xc606f42f, 0xaa1bd7f1, 0xff227d6d, 0x3a3aab61, 0x0f8b3c86, 0xcdfcd2a4, 0xc4ed502f, 0xf09a8ba9, 0x52e3f66d, 0x5d99cabb, 0xc3de20bc, 0xa6d8a592, 0x330ac236, 0x52a83cd5, 0xcb6a79f1, 0xa824d28f, 0x914e1339, 0x9377f1ba, 0x222595fb, 0xfa9d363b, 0x1a9fcbb8, 0x7b7ad1b8, 0x034721ec, 0x2df01ff7, 0xdfc55f45, 0x893c06f4, 0xd2b84f3e };
    uint32_t b[32]   = { 0x11e8e4e2, 0x7d8b9851, 0x90e2b387, 0x5d6063cc, 0xaf1681fe, 0x17fa4cd9, 0x03b1e05b, 0x5c06a15b, 0x82979ddd, 0xef66683a, 0xaf6b2428, 0xa6bbbd94, 0x7ebcc7cc, 0xf9b5bb67, 0x01c9c758, 0x22abfd7f, 0xf72d0e50, 0xf1024856, 0x3dd59f6e, 0x39766141, 0x6b88e7c8, 0xb299cdfa, 0x51f6d8f2, 0xfe833d92, 0xfca52249, 0x9fdb9cba, 0xd3c3ccff, 0x3aa311b1, 0x741fd001, 0x95822686, 0xc1dfabae, 0x8802cdd6 };

    uint32_t res[32] = {0};

START_TIMING;

    xil_printf("Hello World!\n\r");
    mp_sub(a,b,res,32);
    int length = sizeof(res) / sizeof(res[0]);
    customprint(res, length);

STOP_TIMING;

	xil_printf("End\n\r");

    // SW1: warmup exercise
    //----------------------
    // warmup();

    cleanup_platform();

    return 0;
}
